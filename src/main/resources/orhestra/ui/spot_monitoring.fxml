<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="12" xmlns:fx="http://javafx.com/fxml"
      fx:controller="orhestra.coordinator.ui.SpotMonitoringController"
      styleClass="pad">

    <!-- Stats header -->
    <HBox spacing="12" alignment="CENTER_LEFT" styleClass="stats-bar">
        <Label text="SPOT Workers" styleClass="section-header"/>
        <Region HBox.hgrow="ALWAYS"/>
        <VBox alignment="CENTER" spacing="1">
            <Label fx:id="lblTotal" text="0" styleClass="stat-value"/>
            <Label text="всего" styleClass="stat-label"/>
        </VBox>
    </HBox>

    <!-- Simulation controls -->
    <TitledPane text="Simulation" expanded="false" animated="true">
        <VBox spacing="8">
            <padding><Insets top="8" right="8" bottom="8" left="8"/></padding>
            <HBox spacing="12" alignment="CENTER_LEFT">
                <Label text="Workers:" prefWidth="80"/>
                <Spinner fx:id="simWorkers" prefWidth="90" editable="true"/>
                <Label text="Delay ms:" prefWidth="70"/>
                <TextField fx:id="simDelayMin" prefWidth="60" promptText="200"/>
                <Label text="—"/>
                <TextField fx:id="simDelayMax" prefWidth="60" promptText="1200"/>
                <Label text="Fail rate:" prefWidth="65"/>
                <TextField fx:id="simFailRate" prefWidth="55" promptText="0.0"/>
            </HBox>
            <HBox spacing="8">
                <Button fx:id="btnStartSim" text="▶ Start simulation" onAction="#handleStartSim"
                        styleClass="btn-primary"/>
                <Button fx:id="btnStopSim" text="■ Stop simulation" onAction="#handleStopSim"
                        styleClass="btn-danger" disable="true"/>
            </HBox>
        </VBox>
    </TitledPane>

    <!-- Table -->
    <TableView fx:id="table" VBox.vgrow="ALWAYS">
        <placeholder>
            <Label text="Нет подключённых SPOT-воркеров. Ожидание heartbeat…"
                   styleClass="muted" style="-fx-font-size: 14;"/>
        </placeholder>
        <columns>
            <TableColumn fx:id="colId"       text="ID"           prefWidth="120"/>
            <TableColumn fx:id="colAddr"     text="Address"      prefWidth="200"/>
            <TableColumn fx:id="colCPU"      text="CPU"          prefWidth="160"/>
            <TableColumn fx:id="colTasks"    text="Tasks"        prefWidth="80"/>
            <TableColumn fx:id="colBeat"     text="Last Beat"    prefWidth="120"/>
            <TableColumn fx:id="colStatus"   text="Status"       prefWidth="120"/>
        </columns>
    </TableView>
</VBox>
