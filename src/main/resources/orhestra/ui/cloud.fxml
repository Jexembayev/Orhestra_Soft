<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="orhestra.coordinator.ui.CloudController">

    <left>
        <VBox spacing="12" prefWidth="420" styleClass="cloud-sidebar">
            <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

            <!-- ====== ÐšÐžÐÐ¤Ð˜Ð“Ð£Ð ÐÐ¦Ð˜Ð¯ (INI) ====== -->
            <TitledPane text="ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (INI)" expanded="true" collapsible="false" styleClass="section-pane">
                <content>
                    <VBox spacing="10">
                        <padding><Insets top="8" right="4" bottom="8" left="4"/></padding>

                        <!-- Recent INI ComboBox -->
                        <Label text="ÐÐµÐ´Ð°Ð²Ð½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³Ð¸:" styleClass="muted"/>
                        <HBox spacing="6" alignment="CENTER_LEFT">
                            <ComboBox fx:id="recentIniCombo" promptText="Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°â€¦" HBox.hgrow="ALWAYS"
                                      maxWidth="1.7976931348623157E308"/>
                            <Button text="âœ•" onAction="#handleRemoveRecent" styleClass="btn-icon">
                                <tooltip><Tooltip text="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°"/></tooltip>
                            </Button>
                            <Button text="ðŸ—‘" onAction="#handleClearRecent" styleClass="btn-icon">
                                <tooltip><Tooltip text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº"/></tooltip>
                            </Button>
                        </HBox>

                        <Separator/>

                        <!-- INI Path + FileChooser -->
                        <Label text="ÐŸÑƒÑ‚ÑŒ Ðº INI:" styleClass="muted"/>
                        <HBox spacing="6">
                            <TextField fx:id="iniPathField" promptText="/path/to/config.ini"
                                       HBox.hgrow="ALWAYS"/>
                            <Button text="ðŸ“‚" onAction="#handleChooseIni" styleClass="btn-icon">
                                <tooltip><Tooltip text="Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»â€¦"/></tooltip>
                            </Button>
                        </HBox>

                        <Button text="Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ INI" onAction="#handleLoadIni" styleClass="btn-primary"
                                maxWidth="1.7976931348623157E308"/>
                    </VBox>
                </content>
            </TitledPane>

            <!-- ====== ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ˜ ÐžÐšÐ Ð£Ð–Ð•ÐÐ˜Ð¯ ====== -->
            <TitledPane text="ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ" expanded="true" styleClass="section-pane">
                <content>
                    <VBox spacing="10">
                        <padding><Insets top="8" right="4" bottom="8" left="4"/></padding>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="ÐžÐ±Ð»Ð°ÐºÐ¾:" minWidth="100"/>
                            <Label fx:id="dotCloud" text="â—" style="-fx-text-fill: #999999; -fx-font-size: 16;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button fx:id="btnCheckCloud" text="ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ" onAction="#handleCheckCloud"/>
                        </HBox>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="OpenVPN AS:" minWidth="100"/>
                            <Label fx:id="dotOvpn" text="â—" style="-fx-text-fill: #999999; -fx-font-size: 16;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button fx:id="btnOvpnOn"  text="Ð’ÐºÐ»" onAction="#handleOvpnOn"/>
                            <Button fx:id="btnOvpnOff" text="Ð’Ñ‹ÐºÐ»" onAction="#handleOvpnOff"/>
                        </HBox>

                        <HBox spacing="8" alignment="CENTER_LEFT">
                            <Label text="ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€:" minWidth="100"/>
                            <Label fx:id="dotCoord" text="â—" style="-fx-text-fill: #999999; -fx-font-size: 16;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button fx:id="btnStartCoordinator" text="Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ" onAction="#handleStartCoordinator"/>
                            <Button fx:id="btnStopCoordinator"  text="ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" onAction="#handleStopCoordinator"/>
                        </HBox>
                    </VBox>
                </content>
            </TitledPane>

            <!-- ====== Ð›ÐžÐ“ ÐšÐžÐžÐ Ð”Ð˜ÐÐÐ¢ÐžÐ Ð ====== -->
            <TitledPane text="ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ â€” Ð»Ð¾Ð³" expanded="false" styleClass="section-pane">
                <content>
                    <VBox spacing="6">
                        <padding><Insets top="4" right="4" bottom="4" left="4"/></padding>
                        <TextArea fx:id="coordLogArea" prefRowCount="8" wrapText="true" editable="false"
                                  styleClass="log-area"/>
                        <HBox alignment="CENTER_RIGHT">
                            <Button text="ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ" onAction="#handleClearCoordLog" styleClass="btn-icon"/>
                        </HBox>
                    </VBox>
                </content>
            </TitledPane>

            <!-- Status bar -->
            <Separator/>
            <Label fx:id="statusLabel" text="Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ INI-ÐºÐ¾Ð½Ñ„Ð¸Ð³ Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹"
                   styleClass="muted" wrapText="true"/>
        </VBox>
    </left>

    <center>
        <VBox spacing="10">
            <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

            <HBox spacing="8" alignment="CENTER_LEFT">
                <Button text="Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð’Ðœ" onAction="#handleListInstances"/>
                <Button fx:id="btnCreateSpot" text="Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ SPOT" onAction="#handleCreateSpot"
                        disable="true" styleClass="btn-primary"/>
                <Button text="Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ" onAction="#handleDeleteSelected"/>
            </HBox>

            <TableView fx:id="instancesTable" VBox.vgrow="ALWAYS">
                <placeholder>
                    <Label text="ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Â«Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð’ÐœÂ» Ð´Ð»Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸" styleClass="muted"
                           style="-fx-font-size: 14;"/>
                </placeholder>
                <columns>
                    <TableColumn fx:id="colId"       text="ID"        prefWidth="200"/>
                    <TableColumn fx:id="colName"     text="Ð˜Ð¼Ñ"       prefWidth="160"/>
                    <TableColumn fx:id="colZone"     text="Ð—Ð¾Ð½Ð°"      prefWidth="100"/>
                    <TableColumn fx:id="colStatus"   text="Ð¡Ñ‚Ð°Ñ‚ÑƒÑ"    prefWidth="100"/>
                    <TableColumn fx:id="colIP"       text="IP"        prefWidth="140"/>
                    <TableColumn fx:id="colCreated"  text="Ð¡Ð¾Ð·Ð´Ð°Ð½"    prefWidth="160"/>
                    <TableColumn fx:id="colPreempt"  text="SPOT?"     prefWidth="70"/>
                </columns>
            </TableView>
        </VBox>
    </center>
</BorderPane>
